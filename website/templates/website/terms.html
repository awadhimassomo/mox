{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terms of Service | Mo-Express</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <meta name="description" content="Terms of Service for Mo-Express delivery services in Tanzania">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Mo-Express">
    <meta name="theme-color" content="#FF0000">
    
    <!-- PWA Icons -->
    <link rel="icon" href="{% static 'website/images/favicon.ico' %}" type="image/x-icon">
    <link rel="shortcut icon" href="{% static 'website/images/favicon.ico' %}" type="image/x-icon">
    <link rel="apple-touch-icon" href="{% static 'website/images/icons/icon-192x192.png' %}">
    <link rel="apple-touch-icon" sizes="192x192" href="{% static 'website/images/icons/icon-192x192.png' %}">
    <link rel="apple-touch-icon" sizes="512x512" href="{% static 'website/images/icons/icon-512x512.png' %}">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="{% static 'website/manifest.webmanifest' %}">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF0000',
                    }
                }
            }
        }
    </script>
    <style>
        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 99;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .scroll-to-top.show {
            opacity: 1;
            visibility: visible;
        }
        html {
            scroll-behavior: smooth;
        }
        
        /* Mobile menu animation */
        .mobile-menu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        
        .mobile-menu.open {
            max-height: 300px;
        }
        
        /* Hamburger menu styles */
        .hamburger {
            cursor: pointer;
            width: 24px;
            height: 24px;
            transition: all 0.25s;
            position: relative;
        }
        
        .hamburger-top,
        .hamburger-middle,
        .hamburger-bottom {
            position: absolute;
            width: 24px;
            height: 2px;
            top: 0;
            left: 0;
            background: #ffffff;
            transform: rotate(0);
            transition: all 0.5s;
        }
        
        .hamburger-middle {
            transform: translateY(7px);
        }
        
        .hamburger-bottom {
            transform: translateY(14px);
        }
        
        .open .hamburger-top {
            transform: rotate(45deg) translateY(6px) translateX(6px);
        }
        
        .open .hamburger-middle {
            display: none;
        }
        
        .open .hamburger-bottom {
            transform: rotate(-45deg) translateY(6px) translateX(-6px);
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Navbar with Navigation Links -->
    <nav class="bg-red-600 shadow-md py-4 px-6 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center">
                <a href="{% url 'website:home' %}" class="text-2xl font-bold text-white mr-10">Mo-Express</a>
                <div class="hidden md:flex space-x-6">
                    <a href="{% url 'website:home' %}#why-choose" class="text-white hover:text-gray-200 font-medium">Why Choose Mo</a>
                    <a href="{% url 'website:home' %}#how-it-works" class="text-white hover:text-gray-200 font-medium">How It Works</a>
                    <a href="{% url 'website:home' %}#business-register" class="text-white hover:text-gray-200 font-medium">Register Your Business</a>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <div class="flex items-center">
                    <select id="language" class="border p-1 rounded-md text-sm">
                        <option value="en">EN</option>
                        <option value="sw">SW</option>
                    </select>
                </div>
                <!-- Hamburger Button for Mobile -->
                <button id="menu-btn" class="hamburger md:hidden focus:outline-none" type="button" title="Toggle menu" aria-label="Toggle navigation menu">
                    <span class="hamburger-top"></span>
                    <span class="hamburger-middle"></span>
                    <span class="hamburger-bottom"></span>
                </button>
            </div>
        </div>
        <!-- Mobile menu (hidden by default) -->
        <div id="mobile-menu" class="mobile-menu md:hidden mt-4 bg-red-700 rounded-lg">
            <div class="flex flex-col space-y-2 p-4">
                <a href="{% url 'website:home' %}#why-choose" class="text-white hover:text-gray-200 font-medium py-2">Why Choose Mo</a>
                <a href="{% url 'website:home' %}#how-it-works" class="text-white hover:text-gray-200 font-medium py-2">How It Works</a>
                <a href="{% url 'website:home' %}#business-register" class="text-white hover:text-gray-200 font-medium py-2">Register Business</a>
            </div>
        </div>
    </nav>

    <!-- PWA Installation Banner for Website Home Page -->
    <div id="homePageInstallBanner" class="container mx-auto px-4 py-3 my-2 bg-red-600 text-white rounded-lg shadow-lg" style="display: block;">
        <div class="flex justify-between items-center">
            <div class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
                </svg>
                <div>
                    <strong class="font-bold">Install Mo-Express App</strong>
                    <p class="text-sm">Get faster access & better experience!</p>
                </div>
            </div>
            <div class="flex space-x-2">
                <button id="homeInstallBtn" class="bg-white text-red-600 hover:bg-gray-100 px-4 py-2 rounded-md text-sm font-bold transition duration-300">Install Now</button>
                <button id="closeHomeInstallBanner" class="bg-transparent hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm border border-white transition duration-300">Later</button>
            </div>
        </div>
    </div>

    <!-- Terms of Service Content -->
    <div class="container mx-auto px-4 py-12">
        <h1 class="text-4xl font-bold text-center mb-12">Terms of Service</h1>
        
        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8">
            <div class="prose max-w-none">
                <p class="mb-4">Last Updated: April 21, 2025</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">1. Acceptance of Terms</h2>
                <p class="mb-6">By accessing or using Mo-Express services, including our website, mobile application, and delivery services, you agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our services.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">2. Service Description</h2>
                <p class="mb-4">Mo-Express provides delivery services for gas, groceries, packages, and other items in Tanzania. We connect customers with local businesses and deploy riders using various transport modes (Boda, Guta, Kirikuu, and Kenta) to fulfill delivery requests.</p>
                <p class="mb-6">Our services may be subject to additional terms and conditions specific to certain delivery types or promotional offers, which will be communicated at the time of order placement.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">3. User Accounts</h2>
                <p class="mb-4">You may need to create an account to use our services. You are responsible for maintaining the confidentiality of your account information and for all activities that occur under your account.</p>
                <p class="mb-4">You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete.</p>
                <p class="mb-6">We reserve the right to suspend or terminate your account if any information provided is found to be inaccurate, outdated, or incomplete.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">4. Order Placement and Delivery</h2>
                <p class="mb-4">By placing an order through Mo-Express, you confirm that the information provided is accurate and complete.</p>
                <p class="mb-4">Delivery times are estimates and may vary based on factors including but not limited to distance, traffic conditions, weather, and order volume. We strive to deliver within the estimated time frame but do not guarantee delivery times.</p>
                <p class="mb-4">You are responsible for ensuring someone is available to receive the delivery at the specified address. If no one is available, our delivery personnel may attempt to contact you using the information provided.</p>
                <p class="mb-6">For certain items, we may require proof of age or other identification upon delivery.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">5. Payment and Fees</h2>
                <p class="mb-4">By placing an order, you agree to pay the specified price for the items ordered plus any applicable delivery fees, taxes, and other charges as indicated at checkout.</p>
                <p class="mb-4">Payment methods accepted include mobile money (M-Pesa, Tigo Pesa, Airtel Money), credit/debit cards, and cash on delivery where available.</p>
                <p class="mb-4">Prices for items may change without notice. We are not responsible for price discrepancies between our platform and the actual prices at the merchant location.</p>
                <p class="mb-6">Promotional offers and discounts may be subject to additional terms and conditions.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">6. Cancellation and Refunds</h2>
                <p class="mb-4">Cancellation policies vary depending on the status of your order. Orders can be cancelled without charge before a rider is assigned to your delivery.</p>
                <p class="mb-4">Once a rider is assigned or your order has been processed by the merchant, cancellation fees may apply.</p>
                <p class="mb-6">Refund policies depend on the nature of the items ordered and the reason for the refund request. Please contact our customer service for specific refund inquiries.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">7. Business Partners</h2>
                <p class="mb-4">Businesses partnering with Mo-Express are subject to additional terms and conditions as detailed in the business partner agreement.</p>
                <p class="mb-6">Mo-Express is not responsible for the quality, safety, or legality of the items offered by business partners. Any concerns regarding products should be directed to the respective business partner.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">8. Riders</h2>
                <p class="mb-4">Riders working with Mo-Express are independent contractors and subject to their own terms of engagement.</p>
                <p class="mb-6">Riders are responsible for maintaining all necessary licenses, permits, and insurance required for their transport mode (Boda, Guta, Kirikuu, or Kenta) and for adhering to all applicable laws and regulations.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">9. Limitation of Liability</h2>
                <p class="mb-4">Mo-Express shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from the use of or inability to use our services.</p>
                <p class="mb-6">Our liability is limited to the amount paid by you for the specific delivery service that gave rise to the claim.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">10. Disputes</h2>
                <p class="mb-6">Any disputes arising from these Terms of Service shall be governed by the laws of Tanzania. You agree to submit to the personal jurisdiction of the courts located in Dar es Salaam, Tanzania for the resolution of all disputes.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">11. Modifications to Terms</h2>
                <p class="mb-6">We reserve the right to modify these Terms of Service at any time. Changes will be effective immediately upon posting on our website or application. Your continued use of our services following any changes constitutes your acceptance of the revised terms.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">12. Contact Information</h2>
                <p class="mb-4">If you have any questions about these Terms of Service, please contact us at:</p>
                <p class="mb-1">Mo-Express</p>
                <p class="mb-1">Email: legal@mo-express.co.tz</p>
                <p class="mb-1">Phone: +255 782 611 776</p>
                <p>Address: Dar es Salaam, Tanzania</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-10">
        <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
                <h3 class="text-xl font-semibold mb-4">Mo-Express</h3>
                <p class="mb-4">Your trusted delivery partner in Tanzania for gas, groceries, and packages.</p>
                <div class="flex space-x-4">
                    <a href="#" class="text-white hover:text-red-400"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg></a>
                    <a href="#" class="text-white hover:text-red-400"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd" /></svg></a>
                    <a href="#" class="text-white hover:text-red-400"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" /></svg></a>
                </div>
            </div>
            <div>
                <h3 class="text-xl font-semibold mb-4">Quick Links</h3>
                <ul class="space-y-2">
                    <li><a href="{% url 'website:home' %}" class="hover:text-red-400">Home</a></li>
                    <li><a href="{% url 'customers:home' %}" class="hover:text-red-400">Order Now</a></li>
                    <li><a href="{% url 'website:home' %}#how-it-works" class="hover:text-red-400">How It Works</a></li>
                    <li><a href="{% url 'website:home' %}#business-register" class="hover:text-red-400">For Business</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-xl font-semibold mb-4">Resources</h3>
                <ul class="space-y-2">
                    <li><a href="/faq" class="hover:text-red-400">FAQ</a></li>
                    <li><a href="/privacy-policy" class="hover:text-red-400">Privacy Policy</a></li>
                    <li><a href="/terms" class="hover:text-red-400">Terms of Service</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-xl font-semibold mb-4">Contact Us</h3>
                <p>Phone: +255 782 611 776</p>
                <p>Email: info@mo-express.co.tz</p>
                <p class="mt-2">Dar es Salaam, Tanzania</p>
            </div>
        </div>
        <div class="mt-8 text-center border-t border-gray-700 pt-6">
            <p>&copy; 2025 Mo-Express. All rights reserved.</p>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button id="scrollToTop" class="scroll-to-top bg-red-600 text-white rounded-full p-3 shadow-lg" aria-label="Scroll to Top">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
        </svg>
    </button>

    <!-- PWA Installation Script -->
    <script>
        // Toggle mobile menu
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        
        menuBtn.addEventListener('click', function() {
            menuBtn.classList.toggle('open');
            mobileMenu.classList.toggle('open');
        });
        
        // Close menu when a link is clicked
        const mobileLinks = mobileMenu.querySelectorAll('a');
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                menuBtn.classList.remove('open');
                mobileMenu.classList.remove('open');
            });
        });
        
        // Scroll to top functionality
        const scrollToTopButton = document.getElementById('scrollToTop');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                scrollToTopButton.classList.add('show');
            } else {
                scrollToTopButton.classList.remove('show');
            }
        });
        
        scrollToTopButton.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('{% static "website/sw.js" %}').then(function(registration) {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
        
        // PWA Installation prompt handling
        let deferredPrompt;
        const homeInstallBtn = document.getElementById('homeInstallBtn');
        const homePageInstallBanner = document.getElementById('homePageInstallBanner');
        const closeHomeInstallBanner = document.getElementById('closeHomeInstallBanner');
        
        // Check if app is already installed
        if (window.matchMedia('(display-mode: standalone)').matches || 
            window.navigator.standalone === true) {
            // App is already installed, hide the banner
            if (homePageInstallBanner) {
                homePageInstallBanner.style.display = 'none';
            }
        }
        
        // Close button for the banner
        if (closeHomeInstallBanner) {
            closeHomeInstallBanner.addEventListener('click', () => {
                if (homePageInstallBanner) {
                    homePageInstallBanner.style.display = 'none';
                    // Remember user's choice with localStorage
                    localStorage.setItem('moExpressBannerClosed', 'true');
                }
            });
        }
        
        // Check if user previously closed the banner
        if (localStorage.getItem('moExpressBannerClosed') === 'true' && homePageInstallBanner) {
            homePageInstallBanner.style.display = 'none';
        }
        
        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent Chrome from automatically showing the prompt
            e.preventDefault();
            // Stash the event so it can be triggered later
            deferredPrompt = e;
            
            // If banner exists, make sure it's visible
            if (homePageInstallBanner && 
                localStorage.getItem('moExpressBannerClosed') !== 'true' && 
                !window.matchMedia('(display-mode: standalone)').matches) {
                homePageInstallBanner.style.display = 'block';
            }
            
            // Connect installation button
            if (homeInstallBtn) {
                homeInstallBtn.addEventListener('click', showInstallPrompt);
            }
        });
        
        function showInstallPrompt() {
            if (!deferredPrompt) {
                console.log('No installation prompt available');
                return;
            }
            
            // Show the install prompt
            deferredPrompt.prompt();
            
            // Wait for the user to respond to the prompt
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('User accepted the install prompt');
                    // Hide the banner when installed
                    if (homePageInstallBanner) {
                        homePageInstallBanner.style.display = 'none';
                    }
                } else {
                    console.log('User dismissed the install prompt');
                }
                deferredPrompt = null;
            });
        }
    </script>
</body>
</html>
