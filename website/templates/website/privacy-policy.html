{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy | Mo-Express</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <meta name="description" content="Privacy Policy for Mo-Express delivery services in Tanzania">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Mo-Express">
    <meta name="theme-color" content="#FF0000">
    
    <!-- PWA Icons -->
    <link rel="icon" href="{% static 'website/images/favicon.ico' %}" type="image/x-icon">
    <link rel="shortcut icon" href="{% static 'website/images/favicon.ico' %}" type="image/x-icon">
    <link rel="apple-touch-icon" href="{% static 'website/images/icons/icon-192x192.png' %}">
    <link rel="apple-touch-icon" sizes="192x192" href="{% static 'website/images/icons/icon-192x192.png' %}">
    <link rel="apple-touch-icon" sizes="512x512" href="{% static 'website/images/icons/icon-512x512.png' %}">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="{% static 'website/manifest.webmanifest' %}">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF0000',
                    }
                }
            }
        }
    </script>
    <style>
        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 99;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .scroll-to-top.show {
            opacity: 1;
            visibility: visible;
        }
        html {
            scroll-behavior: smooth;
        }
        
        /* Mobile menu animation */
        .mobile-menu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        
        .mobile-menu.open {
            max-height: 300px;
        }
        
        /* Hamburger menu styles */
        .hamburger {
            cursor: pointer;
            width: 24px;
            height: 24px;
            transition: all 0.25s;
            position: relative;
        }
        
        .hamburger-top,
        .hamburger-middle,
        .hamburger-bottom {
            position: absolute;
            width: 24px;
            height: 2px;
            top: 0;
            left: 0;
            background: #ffffff;
            transform: rotate(0);
            transition: all 0.5s;
        }
        
        .hamburger-middle {
            transform: translateY(7px);
        }
        
        .hamburger-bottom {
            transform: translateY(14px);
        }
        
        .open .hamburger-top {
            transform: rotate(45deg) translateY(6px) translateX(6px);
        }
        
        .open .hamburger-middle {
            display: none;
        }
        
        .open .hamburger-bottom {
            transform: rotate(-45deg) translateY(6px) translateX(-6px);
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Navbar with Navigation Links -->
    <nav class="bg-red-600 shadow-md py-4 px-6 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center">
                <a href="{% url 'website:home' %}" class="text-2xl font-bold text-white mr-10">Mo-Express</a>
                <div class="hidden md:flex space-x-6">
                    <a href="{% url 'website:home' %}#why-choose" class="text-white hover:text-gray-200 font-medium">Why Choose Mo</a>
                    <a href="{% url 'website:home' %}#how-it-works" class="text-white hover:text-gray-200 font-medium">How It Works</a>
                    <a href="{% url 'website:home' %}#business-register" class="text-white hover:text-gray-200 font-medium">Register Your Business</a>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <div class="flex items-center">
                    <select id="language" class="border p-1 rounded-md text-sm">
                        <option value="en">EN</option>
                        <option value="sw">SW</option>
                    </select>
                </div>
                <!-- Hamburger Button for Mobile -->
                <button id="menu-btn" class="hamburger md:hidden focus:outline-none" type="button" title="Toggle menu" aria-label="Toggle navigation menu">
                    <span class="hamburger-top"></span>
                    <span class="hamburger-middle"></span>
                    <span class="hamburger-bottom"></span>
                </button>
            </div>
        </div>
        <!-- Mobile menu (hidden by default) -->
        <div id="mobile-menu" class="mobile-menu md:hidden mt-4 bg-red-700 rounded-lg">
            <div class="flex flex-col space-y-2 p-4">
                <a href="{% url 'website:home' %}#why-choose" class="text-white hover:text-gray-200 font-medium py-2">Why Choose Mo</a>
                <a href="{% url 'website:home' %}#how-it-works" class="text-white hover:text-gray-200 font-medium py-2">How It Works</a>
                <a href="{% url 'website:home' %}#business-register" class="text-white hover:text-gray-200 font-medium py-2">Register Business</a>
            </div>
        </div>
    </nav>

    <!-- PWA Installation Banner for Website Home Page -->
    <div id="homePageInstallBanner" class="container mx-auto px-4 py-3 my-2 bg-red-600 text-white rounded-lg shadow-lg" style="display: block;">
        <div class="flex justify-between items-center">
            <div class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
                </svg>
                <div>
                    <strong class="font-bold">Install Mo-Express App</strong>
                    <p class="text-sm">Get faster access & better experience!</p>
                </div>
            </div>
            <div class="flex space-x-2">
                <button id="homeInstallBtn" class="bg-white text-red-600 hover:bg-gray-100 px-4 py-2 rounded-md text-sm font-bold transition duration-300">Install Now</button>
                <button id="closeHomeInstallBanner" class="bg-transparent hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm border border-white transition duration-300">Later</button>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Content -->
    <div class="container mx-auto px-4 py-12">
        <h1 class="text-4xl font-bold text-center mb-12">Privacy Policy</h1>
        
        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8">
            <div class="prose max-w-none">
                <p class="mb-4">Last Updated: April 21, 2025</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">1. Introduction</h2>
                <p class="mb-6">Mo-Express ("we", "our", or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our website, mobile application, and delivery services (collectively, the "Service"). Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the Service.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">2. Information We Collect</h2>
                
                <h3 class="text-xl font-medium mb-2">Personal Data</h3>
                <p class="mb-4">We may collect personally identifiable information, such as:</p>
                <ul class="list-disc ml-8 mb-4">
                    <li>Name, email address, phone number, and delivery address</li>
                    <li>Payment information (processed through secure payment providers)</li>
                    <li>Profile information and preferences</li>
                    <li>For riders: transport mode information (Boda, Guta, Kirikuu, or Kenta), license details, vehicle registration, and other documentation required for verification</li>
                    <li>For business partners: business name, address, contact details, and business registration information</li>
                </ul>
                
                <h3 class="text-xl font-medium mb-2">Non-Personal Data</h3>
                <p class="mb-4">We may also collect non-personal information, including:</p>
                <ul class="list-disc ml-8 mb-6">
                    <li>Device information (device type, operating system, browser type)</li>
                    <li>Log data (IP address, access times, pages viewed)</li>
                    <li>Location data (with your permission) to facilitate deliveries</li>
                    <li>Usage patterns and preferences</li>
                </ul>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">3. How We Use Your Information</h2>
                <p class="mb-4">We use the information we collect to:</p>
                <ul class="list-disc ml-8 mb-6">
                    <li>Provide, maintain, and improve our Service</li>
                    <li>Process and fulfill orders and deliveries</li>
                    <li>Communicate with you about your orders, account, and our services</li>
                    <li>Monitor and analyze usage patterns</li>
                    <li>Enhance security and prevent fraud</li>
                    <li>For riders: manage logistics, assignments, and payments</li>
                    <li>For business partners: process orders, manage inventory, and handle payments</li>
                    <li>Comply with legal obligations</li>
                </ul>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">4. Sharing Your Information</h2>
                <p class="mb-4">We may share your information with:</p>
                <ul class="list-disc ml-8 mb-6">
                    <li>Riders, to facilitate delivery of your orders</li>
                    <li>Business partners, when you place an order with them through our platform</li>
                    <li>Service providers who assist us in operating our business (payment processors, cloud services)</li>
                    <li>Law enforcement agencies when required by law</li>
                    <li>In connection with a business transaction such as a merger or acquisition</li>
                </ul>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">5. Data Security</h2>
                <p class="mb-6">We implement appropriate technical and organizational measures to protect your personal data against unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the internet or electronic storage is 100% secure, and we cannot guarantee absolute security.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">6. Your Data Protection Rights</h2>
                <p class="mb-4">Depending on your location, you may have the following rights regarding your personal data:</p>
                <ul class="list-disc ml-8 mb-6">
                    <li>The right to access your personal data</li>
                    <li>The right to rectify inaccurate or incomplete data</li>
                    <li>The right to erasure (the "right to be forgotten")</li>
                    <li>The right to restrict processing</li>
                    <li>The right to data portability</li>
                    <li>The right to object to processing</li>
                    <li>The right to withdraw consent</li>
                </ul>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">7. Cookies and Tracking Technologies</h2>
                <p class="mb-6">We use cookies and similar tracking technologies to collect and track information about your browsing activities on our Service. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">8. Children's Privacy</h2>
                <p class="mb-6">Our Service is not intended for individuals under the age of 18. We do not knowingly collect personal information from children. If you are a parent or guardian and believe your child has provided us with personal information, please contact us.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">9. International Data Transfers</h2>
                <p class="mb-6">Your information may be transferred to and processed in countries other than the one in which you reside. These countries may have different data protection laws. We will take appropriate measures to ensure that your personal data receives an adequate level of protection.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">10. Changes to This Privacy Policy</h2>
                <p class="mb-6">We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.</p>
                
                <h2 class="text-2xl font-semibold mb-4 text-red-600">11. Contact Us</h2>
                <p class="mb-4">If you have any questions about this Privacy Policy, please contact us at:</p>
                <p class="mb-1">Mo-Express</p>
                <p class="mb-1">Email: privacy@mo-express.co.tz</p>
                <p class="mb-1">Phone: +255 782 611 776</p>
                <p>Address: Dar es Salaam, Tanzania</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-10">
        <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
                <h3 class="text-xl font-semibold mb-4">Mo-Express</h3>
                <p class="mb-4">Your trusted delivery partner in Tanzania for gas, groceries, and packages.</p>
                <div class="flex space-x-4">
                    <a href="#" class="text-white hover:text-red-400"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg></a>
                    <a href="#" class="text-white hover:text-red-400"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd" /></svg></a>
                    <a href="#" class="text-white hover:text-red-400"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" /></svg></a>
                </div>
            </div>
            <div>
                <h3 class="text-xl font-semibold mb-4">Quick Links</h3>
                <ul class="space-y-2">
                    <li><a href="{% url 'website:home' %}" class="hover:text-red-400">Home</a></li>
                    <li><a href="{% url 'customers:home' %}" class="hover:text-red-400">Order Now</a></li>
                    <li><a href="{% url 'website:home' %}#how-it-works" class="hover:text-red-400">How It Works</a></li>
                    <li><a href="{% url 'website:home' %}#business-register" class="hover:text-red-400">For Business</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-xl font-semibold mb-4">Resources</h3>
                <ul class="space-y-2">
                    <li><a href="/faq" class="hover:text-red-400">FAQ</a></li>
                    <li><a href="/privacy-policy" class="hover:text-red-400">Privacy Policy</a></li>
                    <li><a href="/terms" class="hover:text-red-400">Terms of Service</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-xl font-semibold mb-4">Contact Us</h3>
                <p>Phone: +255 782 611 776</p>
                <p>Email: info@mo-express.co.tz</p>
                <p class="mt-2">Dar es Salaam, Tanzania</p>
            </div>
        </div>
        <div class="mt-8 text-center border-t border-gray-700 pt-6">
            <p>&copy; 2025 Mo-Express. All rights reserved.</p>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button id="scrollToTop" class="scroll-to-top bg-red-600 text-white rounded-full p-3 shadow-lg" aria-label="Scroll to Top">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
        </svg>
    </button>

    <!-- PWA Installation Script -->
    <script>
        // Toggle mobile menu
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        
        menuBtn.addEventListener('click', function() {
            menuBtn.classList.toggle('open');
            mobileMenu.classList.toggle('open');
        });
        
        // Close menu when a link is clicked
        const mobileLinks = mobileMenu.querySelectorAll('a');
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                menuBtn.classList.remove('open');
                mobileMenu.classList.remove('open');
            });
        });
        
        // Scroll to top functionality
        const scrollToTopButton = document.getElementById('scrollToTop');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                scrollToTopButton.classList.add('show');
            } else {
                scrollToTopButton.classList.remove('show');
            }
        });
        
        scrollToTopButton.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('{% static "website/sw.js" %}').then(function(registration) {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
        
        // PWA Installation prompt handling
        let deferredPrompt;
        const homeInstallBtn = document.getElementById('homeInstallBtn');
        const homePageInstallBanner = document.getElementById('homePageInstallBanner');
        const closeHomeInstallBanner = document.getElementById('closeHomeInstallBanner');
        
        // Check if app is already installed
        if (window.matchMedia('(display-mode: standalone)').matches || 
            window.navigator.standalone === true) {
            // App is already installed, hide the banner
            if (homePageInstallBanner) {
                homePageInstallBanner.style.display = 'none';
            }
        }
        
        // Close button for the banner
        if (closeHomeInstallBanner) {
            closeHomeInstallBanner.addEventListener('click', () => {
                if (homePageInstallBanner) {
                    homePageInstallBanner.style.display = 'none';
                    // Remember user's choice with localStorage
                    localStorage.setItem('moExpressBannerClosed', 'true');
                }
            });
        }
        
        // Check if user previously closed the banner
        if (localStorage.getItem('moExpressBannerClosed') === 'true' && homePageInstallBanner) {
            homePageInstallBanner.style.display = 'none';
        }
        
        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent Chrome from automatically showing the prompt
            e.preventDefault();
            // Stash the event so it can be triggered later
            deferredPrompt = e;
            
            // If banner exists, make sure it's visible
            if (homePageInstallBanner && 
                localStorage.getItem('moExpressBannerClosed') !== 'true' && 
                !window.matchMedia('(display-mode: standalone)').matches) {
                homePageInstallBanner.style.display = 'block';
            }
            
            // Connect installation button
            if (homeInstallBtn) {
                homeInstallBtn.addEventListener('click', showInstallPrompt);
            }
        });
        
        function showInstallPrompt() {
            if (!deferredPrompt) {
                console.log('No installation prompt available');
                return;
            }
            
            // Show the install prompt
            deferredPrompt.prompt();
            
            // Wait for the user to respond to the prompt
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('User accepted the install prompt');
                    // Hide the banner when installed
                    if (homePageInstallBanner) {
                        homePageInstallBanner.style.display = 'none';
                    }
                } else {
                    console.log('User dismissed the install prompt');
                }
                deferredPrompt = null;
            });
        }
    </script>
</body>
</html>
